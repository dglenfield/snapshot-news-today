CREATE TABLE IF NOT EXISTS ap_news_article (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    ap_news_headline_id INTEGER, -- Foreign key to link to ap_news_headline table
    scraped_on TEXT NOT NULL DEFAULT (datetime('now', 'utc')),
    is_success INTEGER,
    source TEXT NOT NULL,
    headline TEXT,
    author TEXT,
    last_updated_on TEXT,
    article_content TEXT,
    error_message TEXT,
    FOREIGN KEY(ap_news_headline_id) REFERENCES ap_news_headline(id) ON DELETE CASCADE);

INSERT INTO database_info (entity, version) 
    VALUES ('ap_news_article', '1.1');
